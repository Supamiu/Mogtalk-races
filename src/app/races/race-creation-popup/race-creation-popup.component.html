<form nz-form [formGroup]="newRaceForm" class="login-form" (ngSubmit)="createRace()">
  <nz-form-item>
    <nz-form-label nzRequired>Name</nz-form-label>
    <nz-form-control nzErrorTip="Please input a name">
      <nz-input-group nzPrefixIcon="edit">
        <input type="text" nz-input formControlName="name" placeholder="Race name"/>
      </nz-input-group>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label nzRequired>Start time</nz-form-label>
    <nz-form-control>
      <nz-date-picker formControlName="start" nzShowTime></nz-date-picker>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label nzRequired>Type</nz-form-label>
    <nz-form-control>
      <nz-select formControlName="type" nzPlaceHolder="Type of the race">
        <nz-option nzValue="Savage" nzLabel="Savage"></nz-option>
        <nz-option nzValue="Ultimate" nzLabel="Ultimate"></nz-option>
        <nz-option nzValue="Criterion (Savage)" nzLabel="Criterion (Savage)"></nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>
  <nz-divider nzOrientation="left" nzText="Phases (optional)"></nz-divider>
  <nz-form-item *ngFor="let control of newRaceForm.controls.phases.controls; let i = index">
    <nz-form-control nzErrorTip="Please input phase's name or delete this field.">
      <nz-input-group [nzAddOnAfter]="removeBossTpl">
        <input
          class="boss-name"
          nz-input
          placeholder="Name of the phase"
          [formControl]="control"
        />
        <ng-template #removeBossTpl>
            <span
              nz-icon
              nzType="minus-circle-o"
              class="dynamic-delete-button"
              (click)="removePhase(i)"
            ></span>
        </ng-template>
      </nz-input-group>
    </nz-form-control>
  </nz-form-item>
  <button type="button" nz-button nzBlock nzType="primary" nzGhost (click)="addPhase()"><span nz-icon
                                                                                              nzType="plus-circle"
                                                                                              nzTheme="outline"></span>
    Add a phase
  </button>
  <nz-divider></nz-divider>
  <button nz-button [nzType]="'primary'" [disabled]="!newRaceForm.valid" nzBlock>Create a race</button>
</form>
